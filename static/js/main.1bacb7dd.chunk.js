(this["webpackJsonplean-dashboard"]=this["webpackJsonplean-dashboard"]||[]).push([[0],{155:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(49),i=n.n(o),c=(n(60),n(61),n(15)),u=n(16),l=n(18),d=n(17),s=n(19),f=n(50),p=n.n(f);var m=function(){return a.a.createElement("div",{className:p.a.loading})},h=window.Trello,b=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={data:null,loading:!0},n}return Object(s.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.props.fetch?this.props.fetch(h).then((function(e){t.setState({data:e,loading:!1})})):this.setState({data:null,loading:!1})}},{key:"render",value:function(){var t=this.state,e=t.data,n=t.loading,r=this.props.children;return a.a.createElement("div",null,n&&a.a.createElement(m,null),!n&&r(h,e))}}]),e}(a.a.Component),g=n(51),O=n(30),v=n(52),j=n.n(v);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var y=function(t){return function(e){return Promise.all(e.map((function(e){return t.get("list/".concat(e.id,"/cards"))})))}},D=function(t){return function(e){return Promise.all(e.map((function(e){return t.get("/cards/".concat(e.id,"/actions"),{filter:"updateCard:idList"})})))}},k=function(t){return t.filter((function(t){return 0===t.name.indexOf("Done")}))},T=function(t){return t.reduce((function(t,e){return[].concat(Object(O.a)(t),Object(O.a)(e))}),[])},C=function(t){return t.map((function(t){return t.reduce((function(t,e){return 0===e.data.listAfter.name.indexOf("Done")&&0===e.data.listBefore.name.indexOf("Doing")&&(t.completedAt=e.date),0===e.data.listAfter.name.indexOf("To do")&&(t.startedAt=e.date),t.id=e.data.card.id,t}),{})}))},E=function(t,e){var n=new Date(t);return(new Date(e).getTime()-n.getTime())/864e5},P=function(t){return j()(t,(function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach((function(e){Object(g.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{timeToMarket:E(t.startedAt,t.completedAt)})}))},B=function(t){return t.sort((function(t,e){var n=new Date(t.completedAt),r=new Date(e.completedAt);return n.getTime()-r.getTime()}))};var A=function(t){return{getTimeToMarket:function(){return t.get("boards/".concat("HrarJOen","/lists"),{fields:["id","name"]}).then(k).then(y(t)).then(T).then(D(t)).then(C).then(P).then(B)}}},M=n(53),S=window.Trello,x=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state={lineChartData:{}},n}return Object(s.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t,e,n=this;(t=S,e=this.props.data,Promise.all(e.map((function(e){return t.get("cards/".concat(e.id),{fields:"name"})})))).then((function(t){console.log(t.map((function(t){return t.name}))),n.setState({lineChartData:{labels:t.map((function(t){return t.name})),datasets:[{label:"This must be the product Time To Market",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:n.props.data.map((function(t){return t.timeToMarket}))}]}})}))}},{key:"render",value:function(){var t=this.state.lineChartData;return a.a.createElement(M.a,{data:t})}}]),e}(a.a.Component);var H=function(){return a.a.createElement("main",null,a.a.createElement(b,{fetch:function(t){return A(t).getTimeToMarket()}},(function(t,e){return a.a.createElement(x,{data:e})})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},50:function(t,e,n){t.exports={loading:"loading_loading__3nYZo",spin:"loading_spin__3foJh"}},55:function(t,e,n){t.exports=n(155)},60:function(t,e,n){},61:function(t,e,n){}},[[55,1,2]]]);
//# sourceMappingURL=main.1bacb7dd.chunk.js.map